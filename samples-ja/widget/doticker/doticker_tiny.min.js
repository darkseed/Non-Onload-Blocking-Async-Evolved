(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b:b(jQuery)})(function(b){function p(a){var d=a||window.event,l=[].slice.call(arguments,1),c=0,e=0,f=0,h=0,h=0;a=b.event.fix(d);a.type="mousewheel";d.wheelDelta&&(c=d.wheelDelta);d.detail&&(c=-1*d.detail);d.deltaY&&(c=f=-1*d.deltaY);d.deltaX&&(e=d.deltaX,c=-1*e);void 0!==d.wheelDeltaY&&(f=d.wheelDeltaY);void 0!==d.wheelDeltaX&&(e=-1*d.wheelDeltaX);h=Math.abs(c);if(!g||h<g)g=h;h=Math.max(Math.abs(f),Math.abs(e));if(!m||h<m)m=h;d=0<c?"floor":"ceil";c=Math[d](c/g);e=Math[d](e/m);f=Math[d](f/m);l.unshift(a,c,e,f);return(b.event.dispatch||b.event.handle).apply(this,l)}var d=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],g,m;if(b.event.fixHooks)for(var r=d.length;r;)b.event.fixHooks[d[--r]]=b.event.mouseHooks;b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=a.length;b;)this.addEventListener(a[--b],p,!1);else this.onmousewheel=p},teardown:function(){if(this.removeEventListener)for(var b=a.length;b;)this.removeEventListener(a[--b],p,!1);else this.onmousewheel=null}};b.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
(function(b){function p(){this===d.elem&&(d.pos=[-260,-260],d.elem=!1,a=3)}var d={pos:[-260,-260]},a=3,g=document,m=g.documentElement,r=g.body,v,t;b.event.special.mwheelIntent={setup:function(){var a=b(this).bind("mousewheel",b.event.special.mwheelIntent.handler);this!==g&&this!==m&&this!==r&&a.bind("mouseleave",p);return!0},teardown:function(){b(this).unbind("mousewheel",b.event.special.mwheelIntent.handler).unbind("mouseleave",p);return!0},handler:function(l,c){var e=[l.clientX,l.clientY];if(this===d.elem||Math.abs(d.pos[0]-e[0])>a||Math.abs(d.pos[1]-e[1])>a)return d.elem=this,d.pos=e,a=250,clearTimeout(t),t=setTimeout(function(){a=10},200),clearTimeout(v),v=setTimeout(function(){a=3},1500),l=b.extend({},l,{type:"mwheelIntent"}),(b.event.dispatch||b.event.handle).apply(this,arguments)}};b.fn.extend({mwheelIntent:function(a){return a?this.bind("mwheelIntent",a):this.trigger("mwheelIntent")},unmwheelIntent:function(a){return this.unbind("mwheelIntent",a)}});b(function(){r=g.body;b(g).bind("mwheelIntent.mwheelIntentDefault",b.noop)})})(jQuery);
(function(b){function p(d,a){var g,m,r;function p(a){b("body").addClass("noSelect");var e=parseInt(n.obj.css(s),10);g=u?a.pageX:a.pageY;m="auto"==e?0:e;w?(document.ontouchmove=function(a){a.preventDefault();l(a.touches[0])},document.ontouchend=c):(b(document).bind("mousemove",l),b(document).bind("mouseup",c),n.obj.bind("mouseup",c))}function t(c,d,g,q){1>f.ratio&&(c=c||window.event,k-=q/50*a.wheel,k=Math.min(f[a.axis]-e[a.axis],Math.max(0,k)),n.obj.css(s,k/h.ratio),f.obj.css(s,-k),a.lockscroll||k!==f[a.axis]-e[a.axis]&&0!==k)&&(c=b.event.fix(c),c.preventDefault())}function l(b){1>f.ratio&&(r=a.invertscroll&&w?Math.min(q[a.axis]-n[a.axis],Math.max(0,m+(g-(u?b.pageX:b.pageY)))):Math.min(q[a.axis]-n[a.axis],Math.max(0,m+((u?b.pageX:b.pageY)-g))),k=r*h.ratio,f.obj.css(s,-k),n.obj.css(s,r))}function c(){b("body").removeClass("noSelect");b(document).unbind("mousemove",l);b(document).unbind("mouseup",c);n.obj.unbind("mouseup",c);document.ontouchmove=document.ontouchend=null}var e={obj:b(".viewport",d)},f={obj:b(".overview",d)},h={obj:b(".scrollbar",d)},q={obj:b(".track",h.obj)},n={obj:b(".thumb",h.obj)},u="x"===a.axis,s=u?"left":"top",x=u?"Width":"Height",k=0;r=m=0;g=void 0;var w="ontouchstart"in document.documentElement;this.update=function(b){e[a.axis]=e.obj[0]["offset"+x];f[a.axis]=f.obj[0]["scroll"+x];f.ratio=e[a.axis]/f[a.axis];h.obj.toggleClass("disable",1<=f.ratio);q[a.axis]="auto"===a.size?e[a.axis]:a.size;n[a.axis]=Math.min(q[a.axis],Math.max(0,"auto"===a.sizethumb?q[a.axis]*f.ratio:a.sizethumb));h.ratio="auto"===a.sizethumb?f[a.axis]/q[a.axis]:(f[a.axis]-e[a.axis])/(q[a.axis]-n[a.axis]);k="relative"===b&&1>=f.ratio?Math.min(f[a.axis]-e[a.axis],Math.max(0,k)):0;k="bottom"===b&&1>=f.ratio?f[a.axis]-e[a.axis]:isNaN(parseInt(b,10))?k:parseInt(b,10);b=x.toLowerCase();n.obj.css(s,k/h.ratio);f.obj.css(s,-k);g=n.obj.offset()[s];h.obj.css(b,q[a.axis]);q.obj.css(b,q[a.axis]);n.obj.css(b,n[a.axis])};this.update();(function(){w?e.obj[0].ontouchstart=function(a){1===a.touches.length&&(p(a.touches[0]),a.stopPropagation())}:(n.obj.bind("mousedown",p),q.obj.bind("mouseup",l));d.bind(b.fn.mwheelIntent?"mwheelIntent":"mousewheel",t)})();return this}b.tiny=b.tiny||{};b.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:!0,lockscroll:!0,size:"auto",sizethumb:"auto",invertscroll:!1}};b.fn.tinyscrollbar=function(d){var a=b.extend({},b.tiny.scrollbar.options,d);this.each(function(){b(this).data("tsb",new p(b(this),a))});return this};b.fn.tinyscrollbar_update=function(d){return b(this).data("tsb").update(d)}})(jQuery);
(function(b){b.fn.doticker=function(p){var d=this,a=b.extend({loop:!0,maxCodes:10,interval:6E3,scrollbar:!1,duration:"slow",width:"auto",height:"300px",background:"#9bc6f2",bodyground:"#fff",bordercolor:"#888",url_user:"http://api.jsdo.it/v0.2/user/show.json",url_list:"http://api.jsdo.it/v0.2/user/codes.json",url_code:"http://api.jsdo.it/v0.2/code/show.json",url_logo:"http://jsdo.it/img/common/sitename_03.png",name:""},p);clearTimeout(a.timer);d.empty();var g=function(){var c='.doticker-wrap {float:left;width:[width];margin:0 auto;padding:0;border-radius:5px;background:[background];font-family:"lucida grande",lucida,tahoma,helvetica,arial,sans-serif !important;}.doticker-wrap * {margin:0 !important;padding:0 !important;}.doticker-wrap img {float:left;border:none;}#[id]head,#[id]foot {min-height:32px !important;padding:10px !important;overflow:hidden;position:relative;}#[id]head {font-size:14px !important;line-height:1.4 !important;}#[id]head img {width:32px !important;height:32px !important;}#[id]head div {margin-top:-4px !important;margin-left:40px !important;}#[id]head p {margin-right:4px !important;font-size:12px !important;background:[background];}#[id]body {clear:both;height:[height];margin:0 1px !important;font-size:12px;border-radius:5px;background:[bodyground];}.[id]doc {clear:both;padding:8px !important;background:[bodyground];border-bottom:1px dotted [bordercolor];}.[id]doc img {width:50px !important;height:50px !important;}.[id]doc div {margin-left:58px !important;}.[id]doc h5 {font-size:100%;font-weight:normal;}.[id]doc p {margin-top:4px !important;font-size:12px !important;}#[id]foot {font-size:12px !important;line-height:1.2 !important;padding-bottom:6px !important;}#[id]foot img {width:79px;height:39px;margin-top:-3px !important;}#[id]foot p {top:50%;margin-left:90px !important;margin-right:8px !important;}';a.id=d.attr("id")+"-";a.scrolltype=!0===a.scrollbar?"auto":"hidden";b.each("id width height scrolltype background bodyground bordercolor".split(" "),function(b,e){c=c.split("["+e+"]").join(a[e])});var e=document.createElement("style");e.type="text/css";e.styleSheet?e.styleSheet.cssText=c:e.innerHTML=c;document.getElementsByTagName("head")[0].appendChild(e)},m=function(){var c=a.id,e='<div class="doticker-wrap"><div id="'+c+'head"></div>';!0===a.scrollbar&&(e+='<div id="'+c+'scrollbar"><div class="scrollbar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div><div class="viewport"><div class="overview">');e+='<div id="'+c+'body"></div>';!0===a.scrollbar&&(e+="</div></div></div>");e+='<div id="'+c+'foot"><a href="http://jsdo.it/"><img src="'+a.url_logo+'" title="jsdo.it" /></a><p><a href="http://jsdo.it/">Share JavaScript, HTML5 and CSS</a></p></div></div>';d.append(e);a.bottom=b("#"+c+"foot").offset().top;a.body=b("#"+c+"body");a.body.pend=!0===a.loop?a.body.prepend:a.body.append;b("#"+c+"body").hover(function(){a.body.addClass("doticker-stop")},function(){a.body.removeClass("doticker-stop")})},r=function(c){c.url="http://jsdo.it/"+c.name;b("#"+a.id+"head").append('<a href="'+c.url+'"><img src="'+c.icon+'" title="profile" /></a><div><h4><a href="'+c.url+'" title="profile" target="_blank">'+c.name+'</a></h4><p><a href="'+c.url+'/codes" title="codes" target="_blank">codes '+c.counts.codes+"</a> / forked "+c.counts.forked+' / <a href="'+c.url+'/favorites" title="favorites" target="_blank">&hearts; '+c.counts.favorited+"</a></p></div>")},v=function(b,e){a.ie?b.hide().slideDown(a.duration,e):b.hide().css({opacity:0}).slideDown(a.duration).animate({opacity:1},a.duration,e)},t=function(){clearTimeout(a.timer);if(!1===a.body.hasClass("doticker-stop")){a.current>=a.maxCodes&&(a.current=0);var c=a.body.pend(a.codes[a.current]).children(":first");c.height(c.height());v(c,function(){var c=a.body.children(),d=c.length-1;if(!0===a.loop&&!1===a.scrollbar)for(;0<=d;d--)if(b(c[d]).offset().top>a.bottom)b(c[d]).remove();else break;else for(;d>=a.maxCodes;d--)b(c[d]).remove()});a.current++}!0===a.loop||a.current!==a.maxCodes?a.timer=setTimeout(t,a.interval):!0===a.scrollbar&&(a.tinyscrollbar.tinyscrollbar_update(),d.css("height",d.children(":first").css("height")))},l=function(b){a.body.append('<div class="'+a.id+'doc">'+b+"</div>")};(function(){g();m();!0===a.scrollbar&&(a.tinyscrollbar=b("#"+a.id+"scrollbar"),a.tinyscrollbar.tinyscrollbar());b.ajaxSetup({dataType:"jsonp",data:{name:a.name},timeout:a.timeout,error:function(a,b,d){l(b)}});b.ajax({url:a.url_user,success:function(c,d,f){void 0===c.error?(r(c),b.ajax({url:a.url_list,success:function(b,c,d){a.codes=[];c=0;if(void 0!==b.results){c=b.results.length<a.maxCodes?b.results.length:a.maxCodes;var e;for(d=0;d<c;d++)e=b.results[d],a.codes[d]=document.createElement("div"),a.codes[d].innerHTML='<div class="'+a.id+'doc"><a href="'+e.url+'" target="_blank"><img src="'+e.thumbnail["100"]+'" title="'+e.title+'" /></a><div><h5><a href="'+e.url+'" target="_blank">'+e.title+"</a></h5><p>Last modified "+e.modified_date.split(" ")[0]+"<br />views "+e.statistic.pageview+" / forked "+e.statistic.forked+" / &hearts; "+e.statistic.favorite+"</p></div></div>"}a.ie=navigator.userAgent.match(/MSIE\s([^;]*)/);a.current=a.maxCodes=c;a.timer=null;a.timeout=a.interval;!0!==a.loop&&(a.interval=a.duration=0);c&&t()}})):l(c.error)}})})();return d}})(jQuery);